<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Claudium</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/cdf8a73b8c.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="css/style.css">

    <link href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    
     <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>

  </head>
  <body class="body_radar">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>



  <!--Inicio Nav-->
  <nav class="navbar navbar-dark stick-top p-3">

    <div class="container-fluid">

      <!--barra-->
      <button src class="navbar-toggler" style="background-color: #33a3ff54" type="button" data-bs-toggle="offcanvas"
        data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!--imagem-->
      <a class="navbar-brand text-primary" id="btn-perfil" type="button" style="align-content: center;"
        href="login_signup.html">
        <i class="fa-solid fa-user"></i> Entrar
      </a>

      <div class="offcanvas offcanvas-start text-bg-dark bg-primary" tabindex="-1" id="offcanvasDarkNavbar"
        aria-labelledby="offcanvasDarkNavbarLabel">
        <div class="offcanvas-header">
          <h3 class="offcanvas-title p-2" id="offcanvasDarkNavbarLabel">Claudium</h3>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
            aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">

          <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="index.html"> <i class="fa-solid fa-house"></i> Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="local.html"><i class="fa-solid fa-location-dot"></i>
                Localização</a>
            </li>

            <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="favoritos.html"> <i class="fa-solid fa-heart"></i>
                  Favoritos</a>
              </li>

              <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                <li class="nav-item">
                  <a class="nav-link" aria-current="page" href="radar.html"> <i
                      class="fa-solid fa-earth-americas"></i>
                    Radar Meteriológico</a>
                </li>

                <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="alertas.html"> <i class="fa-solid fa-bell"></i>
                      Alertas</a>
                  </li>



        </div>

        <div class="p-4">
          <hr id="hr_nav">

          <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="perfil.html#configuracoes"> <i
                  class="fa-solid fa-gear"></i>
                Preferências</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="admin.html"> <i class="fa-solid fa-wrench"></i>
                Página do admin</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="suporte.html"><i class="fa-solid fa-comments"></i>
                Fale conosco</a>
            </li>
          </ul>
        </div>

        <br><br>

        <p class="container-fluid p-4" id="nav_copy">&copy;2024 Cloudium | All Rights Reserved</p>
      </div>
    </div>

  </nav>

  <!--fim nav-->

  <br><br><br>
  
        <center><h1 class="h1_semana">Radar metereológico</h1></center>

<main>
  <div class="main_RM container text-center my-5 p-4">
  <h4>Selecione o Tipo de Radar</h4>
  <ul class="list-inline">
      <li class="list-inline-item me-4">
          <input type="radio" id="radar" name="kind" checked onchange="setKind('radar')" class="form-check-input">
          <label for="radar" class="form-check-label">Radar de chuva</label>
      </li>
      <li class="list-inline-item">
          <input type="radio" id="satellite" name="kind" onchange="setKind('satellite')" class="form-check-input">
          <label for="satellite" class="form-check-label">Radar de nuvens</label>
      </li>
  </ul>
  <div class="my-3">
      <label for="colors" class="form-label">Escolha a Cor:</label>
      <select id="colors" class="form-select" onchange="setColors(); return;">
          <option value="0">Valores Preto e Branco</option>
          <option value="1">Original</option>
          <option value="2" selected>Azul Universal</option>
          <option value="3">TITAN</option>
          <option value="4">Canal do Tempo</option>
          <option value="5">Meteored</option>
          <option value="6">NEXRAD Level-III</option>
          <option value="7">RAINBOW @ SELEX-SI</option>
          <option value="8">Céu Escuro</option>
      </select>
  </div>
</div>


<center><div id="mapid"></div></center>
<style>
</style>
<script src="JS/radar.js"></script>



</main>


 <!--Footer Universal-->

 <footer class="footer_uni">
  <div class="row col">
    <div class="waves">
      <div class="wave" id="wave1"></div>
      <div class="wave" id="wave2"></div>
      <div class="wave" id="wave3"></div>
      <div class="wave" id="wave4"></div>
    </div>
    <ul class="social-icon">
      <li class="social-icon__item"><a class="social-icon__link" href="#">
          <ion-icon name="logo-facebook"></ion-icon>
        </a></li>
      <li class="social-icon__item"><a class="social-icon__link" href="#">
          <ion-icon name="logo-twitter"></ion-icon>
        </a></li>
      <li class="social-icon__item"><a class="social-icon__link" href="#">
          <ion-icon name="logo-linkedin"></ion-icon>
        </a></li>
      <li class="social-icon__item"><a class="social-icon__link" href="#">
          <ion-icon name="logo-instagram"></ion-icon>
        </a></li>
    </ul>
    <ul class="menu">
      <li class="menu__item"><a class="menu__link" href="#">Home</a></li>
      <li class="menu__item"><a class="menu__link" href="#">About</a></li>
      <li class="menu__item"><a class="menu__link" href="#">Services</a></li>
      <li class="menu__item"><a class="menu__link" href="#">Team</a></li>
      <li class="menu__item"><a class="menu__link" href="#">Contact</a></li>

    </ul>
  </div>
  <p>&copy;2021 Nadine Coelho | All Rights Reserved</p>

</footer>

<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  const apiKey = '8a60b2de14f7a17c7a11706b2cfcd87c'; // Substitua pela sua chave da API
  var popup = L.popup();

  function obterClima(lat, lon) {
      const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric`;
      $.getJSON(url, function(data) {
          const descricaoClima = data.weather[0].description;
          const temperatura = data.main.temp;
          const conteudo = `Clima: ${descricaoClima}, Temperatura: ${temperatura} °C`;
          popup
              .setLatLng([lat, lon])
              .setContent(conteudo)
              .openOn(map);
      }).fail(function() {
          popup
              .setLatLng([lat, lon])
              .setContent("Não foi possível obter informações do clima.")
              .openOn(map);
      });
  }

  function aoClicarNoMapa(e) {
      obterClima(e.latlng.lat, e.latlng.lng);
  }

  map.on('click', aoClicarNoMapa);

  function obterClima(lat, lon) {
    const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric&lang=pt`;
    $.getJSON(url, function(data) {
        const descricaoClima = data.weather[0].description;
        const temperatura = data.main.temp;
        const conteudo = `Clima: ${descricaoClima}, Temperatura: ${temperatura} °C`;
        popup
            .setLatLng([lat, lon])
            .setContent(conteudo)
            .openOn(map);
    }).fail(function() {
        popup
            .setLatLng([lat, lon])
            .setContent("Não foi possível obter informações do clima.")
            .openOn(map);
    });
}

</script>

<script src="js/sript_weather.js"></script>

<!-- Botão Voltar ao Topo -->
<button onclick="topFunction()" id="backToTopBtn" title="Voltar ao topo">
  <i class="fa-solid fa-arrow-up"></i>
</button>
    <script>
      // Obtém o botão
      var mybutton = document.getElementById("backToTopBtn");

      // Quando o usuário rolar para baixo 20px do topo da página, mostra o botão
      window.onscroll = function () {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
          mybutton.style.display = "block";
        } else {
          mybutton.style.display = "none";
        }
      };

      // Quando o usuário clicar no botão, rola para o topo da página
      function topFunction() {
        document.body.scrollTop = 0; // Para Safari
        document.documentElement.scrollTop = 0; // Para Chrome, Firefox, IE e Opera
      }
    </script>

  </body>
</html>